# 1on1 Meeting Prep Generator 평가 설정
# 프롬프트: question_context → recommended_questions + meeting_guide 생성

# LLM Judge 평가 프롬프트 도메인 (eval_prompts/{domain}/)
eval_prompts_domain: oneonone

evaluators:
  # Rule-based 평가자 (무료)
  - type: rule_based
    checks:
      - keyword_inclusion    # 필수 키워드 포함 여부 (recommended_questions, meeting_guide)
      - forbidden_word_check # 금지어 사용 여부 (민감 주제 직접 언급 방지)
      - format_validity      # JSON 출력 형식 검증

  # LLM-as-Judge (고비용, 선택적)
  - type: llm_judge
    criteria:
      # 일반 평가 기준
      - instruction_following  # 프롬프트 지시사항 준수
      - output_quality         # 전반적 출력 품질
      # Phase 2 특화 평가 기준
      - question_quality       # 추천 질문 품질
      - meeting_guide_quality  # 미팅 가이드 품질
      - coaching_quality       # 코칭 힌트 기반 질문 품질
      - anti_pattern_check     # 안티패턴 검사
      - tone_appropriateness   # 톤/어조 적절성
      - sensitive_topic_handling # 민감한 주제 처리
    enabled: true

# 통과 기준
thresholds:
  pass_rate: 0.85      # 전체 케이스 중 85% 통과
  min_score: 0.70      # 개별 케이스 최소 점수

# 실행 모드
# quick: Sanity check만 (pass/fail)
# full: Sanity check + LLM Judge (점수 평가)
run_mode: quick

# 출력 검증 스키마 (format_validity용)
output_schema:
  type: object
  required:
    - recommended_questions
    - meeting_guide
  properties:
    recommended_questions:
      type: object
      description: "추천 질문 {번호: 질문}"
    meeting_guide:
      type: object
      required:
        - key_insight
        - approach
        - tip
      properties:
        key_insight:
          type: string
        approach:
          type: string
        tip:
          type: string
